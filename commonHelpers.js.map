{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst refs = {\n   searchForm: document.querySelector('.search-form'),\n    galleryList: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n}\n\n\nfunction fetchImages(query){\n    const API_KEY = '42192199-b3b6ebcf3d1600f471f1bd878';\n    const BASE_URL = 'https://pixabay.com/api/';\n\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\n    const url = `${BASE_URL}?${params}`;\n    \n   return fetch(url).then(res => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          const myError = new Error(`${res.status}`);\n          throw myError;\n        }\n      });\n\n};\n\nrefs.searchForm.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n    const query = e.target.elements.query.value;\n \n    fetchImages(query).then(data => {\n      createMarkup(data.hits);\n    });\n  \n    e.target.reset();\n  };\n\n  function galleryTemplate({webformatURL, largeImageURL, tags, likes, views, comments,  downloads}){\n    return `<li>\n    <img src=\"\" alt=\"${tags}\">\n    <figcaption>\n      \n      <div>\n        <h3>Views</h3>\n        <p>${likes}</p>\n      </div>\n\n      <div>\n        <h3>Views</h3>\n        <p>${views}</p>\n      </div>\n\n      <div>\n        <h3>Comments</h3>\n        <p>${comments}</p>\n      </div>\n\n      <div>\n        <h3>Downloads</h3>\n        <p>${downloads}</p>\n      </div>\n\n    </figcaption>\n  </li>`\n\n  };\n\n  function imagesTemp(img){\n    return img.map(galleryTemplate).join('')\n  }\n\n\n  function createMarkup(arr){\n    const markup = imagesTemp(arr);\n    refs.galleryList.innerHTML = markup;\n\n  }\n\n\n"],"names":["refs","fetchImages","query","API_KEY","BASE_URL","params","url","res","onFormSubmit","e","data","createMarkup","galleryTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemp","img","arr","markup"],"mappings":"0uBAMA,MAAMA,EAAO,CACV,WAAY,SAAS,cAAc,cAAc,EAChD,YAAa,SAAS,cAAc,UAAU,EAC9C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAGA,SAASC,EAAYC,EAAM,CACvB,MAAMC,EAAU,qCACVC,EAAW,2BAEXC,EAAS,IAAI,gBAAgB,CAC/B,IAAKF,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAEKI,EAAM,GAAGF,KAAYC,IAE5B,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CACzB,GAAIA,EAAI,GACN,OAAOA,EAAI,OAGX,MADgB,IAAI,MAAM,GAAGA,EAAI,QAAQ,CAGnD,CAAO,CAEP,CAEAP,EAAK,WAAW,iBAAiB,SAAUQ,CAAY,EAEvD,SAASA,EAAaC,EAAG,CACrBA,EAAE,eAAc,EAChB,MAAMP,EAAQO,EAAE,OAAO,SAAS,MAAM,MAEtCR,EAAYC,CAAK,EAAE,KAAKQ,GAAQ,CAC9BC,EAAaD,EAAK,IAAI,CAC5B,CAAK,EAEDD,EAAE,OAAO,OAEb,CACE,SAASG,EAAgB,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAW,UAAAC,CAAS,EAAE,CAC/F,MAAO;AAAA,uBACYJ;AAAA;AAAA;AAAA;AAAA;AAAA,aAKVC;AAAA;AAAA;AAAA;AAAA;AAAA,aAKAC;AAAA;AAAA;AAAA;AAAA;AAAA,aAKAC;AAAA;AAAA;AAAA;AAAA;AAAA,aAKAC;AAAA;AAAA;AAAA;AAAA,QAOb,CACE,SAASC,EAAWC,EAAI,CACtB,OAAOA,EAAI,IAAIT,CAAe,EAAE,KAAK,EAAE,CACxC,CAGD,SAASD,EAAaW,EAAI,CACxB,MAAMC,EAASH,EAAWE,CAAG,EAC7BtB,EAAK,YAAY,UAAYuB,CAEjC"}